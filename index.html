<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YUPI GLOBAL | Boutique & Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --jaune: #fde047; --orange: #FF8C00; --bleu: #0000FF; --blanc: #ffffff; --noir: #000000; --rouge: #FF0000; }
        * { box-sizing: border-box; }
        body { background-color: var(--noir); color: var(--blanc); font-family: 'Plus Jakarta Sans', sans-serif; margin: 0; padding-bottom: 80px; }
        
        /* NAVIGATION */
        nav { background: #000; border-bottom: 2px solid var(--orange); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .logo { font-weight: 800; font-size: 1.4rem; color: var(--jaune); cursor: pointer; }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { color: var(--blanc); text-decoration: none; font-weight: bold; text-transform: uppercase; font-size: 0.8rem; }
        .hamburger { display: none; flex-direction: column; gap: 5px; cursor: pointer; }
        .hamburger span { width: 25px; height: 3px; background: var(--jaune); }

        @media (max-width: 768px) {
            .nav-links { display: none; flex-direction: column; position: absolute; top: 100%; left: 0; width: 100%; background: var(--noir); padding: 20px; border-bottom: 2px solid var(--orange); }
            .nav-links.mobile-open { display: flex; }
            .hamburger { display: flex; }
        }

        .container { max-width: 1200px; margin: auto; padding: 20px; }
        .view { display: none; } .active { display: block; }

        /* BOUTIQUE */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; }
        .card { background: #111; border: 1px solid #222; border-radius: 15px; padding: 20px; text-align: center; }
        .card img { width: 100%; height: 250px; object-fit: cover; border-radius: 10px; margin-bottom: 15px; border: 1px solid #333; }
        .btn-roles-red { background: var(--rouge); color: white; border: none; padding: 15px; border-radius: 8px; font-weight: 800; width: 100%; cursor: pointer; text-transform: uppercase; }

        /* DETAILS A-Z */
        .details-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
        .bienfaits-list { background: #111; padding: 20px; border-radius: 10px; border-left: 4px solid var(--bleu); line-height: 1.6; }
        .maladies-box { background: #331100; padding: 20px; border-radius: 10px; border: 1px dashed var(--jaune); margin: 20px 0; }
        .cart-action { border: 2px solid var(--orange); padding: 20px; border-radius: 15px; text-align: center; }
        
        /* PANIER & BOUTONS */
        .qty-input { display: flex; justify-content: center; align-items: center; gap: 15px; margin: 15px 0; }
        .q-btn { background: var(--orange); border: none; color: white; width: 40px; height: 40px; border-radius: 5px; font-size: 1.2rem; cursor: pointer; }
        .btn-add { background: var(--bleu); color: white; border: none; padding: 15px; border-radius: 50px; width: 100%; font-weight: 800; cursor: pointer; }
        .cart-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--jaune); color: #000; padding: 15px; display: flex; justify-content: space-around; align-items: center; font-weight: 800; z-index: 2000; }

        /* ADMIN PANEL */
        .admin-form { background: #111; padding: 25px; border-radius: 15px; border: 1px solid var(--jaune); margin-bottom: 30px; }
        input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; background: #000; color: white; border: 1px solid #444; border-radius: 5px; }
        .btn-admin { background: #25D366; color: white; border: none; padding: 15px; border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%; }
        .order-card { background: #222; padding: 15px; margin-bottom: 10px; border-radius: 10px; border-left: 5px solid var(--orange); }
    </style>
</head>
<body>

<nav>
    <div class="logo" onclick="switchView('home')">YUPI PRODUITS</div>
    <div class="hamburger" onclick="document.querySelector('.nav-links').classList.toggle('mobile-open')">
        <span></span><span></span><span></span>
    </div>
    <div class="nav-links">
        <a href="#" onclick="switchView('home')">Boutique</a>
        <a href="#" onclick="switchView('temoignages')">T√©moignages</a>
        <a href="#" onclick="switchView('contact')">Contact</a>
        <a href="#" onclick="checkAdmin()" style="color:var(--jaune)">Admin ‚öôÔ∏è</a>
    </div>
</nav>

<div class="container">
    <div id="home" class="view active">
        <h1 style="text-align:center; color: var(--jaune);">Catalogue Officiel Yupi Global</h1>
        <div class="product-grid" id="product-grid"></div>
    </div>

    <div id="details" class="view">
        <button onclick="switchView('home')" style="color:var(--jaune); background:none; border:none; cursor:pointer; font-weight:bold; margin-bottom:20px;">‚Üê RETOUR BOUTIQUE</button>
        <div id="details-content"></div>
    </div>

    <div id="admin-login" class="view">
        <div style="max-width:400px; margin:100px auto; text-align:center;">
            <h2>Acc√®s S√©curis√©</h2>
            <input type="password" id="admin-pass" placeholder="Mot de passe">
            <button class="btn-admin" onclick="loginAdmin()">Entrer</button>
        </div>
    </div>

    <div id="admin-panel" class="view">
        <h1 style="color:var(--jaune)">Tableau de Bord Admin</h1>
        <div class="admin-form">
            <h3>Ajouter un Nouveau Produit</h3>
            <input type="text" id="adm-nom" placeholder="Nom du produit">
            <input type="number" id="adm-prix" placeholder="Prix (ex: 15500)">
            <input type="text" id="adm-img" placeholder="URL de l'image">
            <textarea id="adm-roles" placeholder="R√¥les (un par ligne)"></textarea>
            <textarea id="adm-maladies" placeholder="Exemples de maladies"></textarea>
            <button class="btn-admin" onclick="addProduct()">Enregistrer le produit</button>
        </div>

        <h3 style="color:var(--orange)">Derni√®res Commandes Valid√©es</h3>
        <div id="orders-list"></div>
    </div>

    <div id="temoignages" class="view">
        <h2 style="color:var(--jaune)">T√©moignages Clients</h2>
        <iframe height="400" style="width:100%; margin-bottom:20px;" src="https://www.youtube.com/embed/RnxWafdmBx8"></iframe>
        <iframe height="400" style="width:100%;" src="https://www.youtube.com/embed/p557uEN8IDg"></iframe>
    </div>

    <div id="contact" class="view">
        <div style="background:#111; padding:30px; border-radius:15px; border:1px solid var(--orange);">
            <h2>Contactez-nous</h2>
            <p>üìß Email : erickpapko384@gmail.com</p>
            <p>üìç Adresse : S√®m√®-Kpodji, B√©nin</p>
            <p>üìû WhatsApp : +229 01 43 71 80 55</p>
        </div>
    </div>
</div>

<div id="cart-footer" class="cart-bar" style="display:none;">
    <span>Total : <span id="cart-total">0</span> XOF</span>
    <button onclick="validerCommande()" style="background:#25D366; color:white; border:none; padding:10px 20px; border-radius:5px; font-weight:900; cursor:pointer;">VALIDER LA COMMANDE</button>
</div>

<script>
    // BASE DE DONN√âES INITIALE (15 Produits)
    let bdd_produits = JSON.parse(localStorage.getItem('yupi_bdd')) || [
        { id: 1, nom: "ALKA PLUS DROP", prix: 15500, img: "https://i.imgur.com/uXMOb6K.jpeg", bienfaits: ["Neutralise les radicaux libres", "D√©toxifie les organes", "√âquilibre le pH", "Prot√®ge l'ADN"], maladies: "Cancer, Asthme, Diab√®te, Maladies cardiaques" },
        { id: 2, nom: "DETOX HEALTH", prix: 15500, img: "https://i.imgur.com/uchBMrs.jpeg", bienfaits: ["Nettoie le c√¥lon", "R√©duit cholest√©rol", "Lutte contre constipation"], maladies: "Cancer du c√¥lon, Indigestion, Ob√©sit√©" },
        { id: 3, nom: "WOMEN CARE", prix: 14600, img: "https://i.postimg.cc/sfJQtyvB/Whats-App-Image-2025-01-18-at-1-22-20-PM-4.jpg", bienfaits: ["R√©gularise cycle", "√âquilibre hormones", "R√©duit stress"], maladies: "Myomes, Kystes, Fibromes, Infertilit√©" },
        { id: 4, nom: "PILON CARE", prix: 14600, img: "https://i.postimg.cc/tgg2VDwm/Pilon-care.png", bienfaits: ["Ass√®che h√©morro√Ødes", "D√©gonfle prostate", "Soulage fistules"], maladies: "H√©morro√Ødes, Prostatite, Fissures anales" },
        { id: 5, nom: "DIABO CARE SPRAY", prix: 14600, img: "https://i.imgur.com/zRZETBA.jpeg", bienfaits: ["Contr√¥le glyc√©mie", "Normalise insuline"], maladies: "Diab√®te Type 1 & 2, Hypertension" },
        { id: 6, nom: "MEN POWER MALT", prix: 17000, img: "https://i.imgur.com/psVzO57.jpeg", bienfaits: ["Vigueur sexuelle", "√ânergie physique"], maladies: "Faiblesse sexuelle, √âjaculation pr√©coce" },
        { id: 7, nom: "IMMUNO BOOST", prix: 15500, img: "https://i.imgur.com/eHXzZbx.jpeg", bienfaits: ["Revitalise cellules", "Purifie le sang"], maladies: "Fatigue, D√©ficience immunitaire" },
        { id: 8, nom: "COSTI AWAY", prix: 12500, img: "https://i.imgur.com/bTht3PR.jpeg", bienfaits: ["Laxatif naturel", "√âlimine gaz"], maladies: "Constipation chronique, Ballonnements" },
        { id: 9, nom: "SEA BUCKTHORN", prix: 15500, img: "https://i.imgur.com/dCulCdA.jpeg", bienfaits: ["Om√©gas 3,6,7,9", "Sant√© peau/c≈ìur"], maladies: "Inflammations, Stress oxydatif" },
        { id: 10, nom: "DENTAL DROP", prix: 4000, img: "https://i.imgur.com/bQzv3sk.jpeg", bienfaits: ["Gencives saines", "Haleine fra√Æche"], maladies: "Caries, Gingivite, Aphtes" },
        { id: 11, nom: "BAUME DOULEUR", prix: 4000, img: "https://i.imgur.com/DtFNIaI.jpeg", bienfaits: ["Soulage entorses", "Action chauffante"], maladies: "Migraines, Arthrite, Lombalgie" },
        { id: 12, nom: "MEN POWER OIL", prix: 7000, img: "https://i.postimg.cc/zf1qzbQK/men-power-oil-1.jpg", bienfaits: ["Flux sanguin local", "Endurance"], maladies: "Troubles √©rectiles" },
        { id: 13, nom: "YUPI DRINK", prix: 15000, img: "https://i.imgur.com/uXMOb6K.jpeg", bienfaits: ["M√©moire et Sommeil", "Sant√© Cardiaque"], maladies: "Fatigue mentale, Insomnie" },
        { id: 14, nom: "MORINGA PLUS", prix: 14000, img: "https://i.imgur.com/uchBMrs.jpeg", bienfaits: ["Super-aliment", "Vitamines"], maladies: "An√©mie, Malnutrition" },
        { id: 15, nom: "LIVER CARE", prix: 14500, img: "https://i.imgur.com/eHXzZbx.jpeg", bienfaits: ["R√©g√©n√®re le foie", "H√©patoprotecteur"], maladies: "H√©patites, Foie gras" }
    ];

    let panier = JSON.parse(localStorage.getItem('yupi_cart')) || [];
    let commandes_admin = JSON.parse(localStorage.getItem('yupi_orders')) || [];
    let curQty = 1;

    // FONCTIONS BOUTIQUE
    function renderBoutique() {
        const grid = document.getElementById('product-grid');
        grid.innerHTML = bdd_produits.map(p => `
            <div class="card">
                <img src="${p.img}">
                <h3>${p.nom}</h3>
                <div style="color:var(--jaune); font-weight:800; font-size:1.3rem; margin-bottom:10px;">${p.prix.toLocaleString()} XOF</div>
                <button class="btn-roles-red" onclick="showDetails(${p.id})">R√îLES & BIENFAITS</button>
            </div>
        `).join('');
        majPanierUI();
    }

    function showDetails(id) {
        const p = bdd_produits.find(x => x.id === id);
        curQty = 1;
        switchView('details');
        document.getElementById('details-content').innerHTML = `
            <div class="details-container">
                <img src="${p.img}" style="width:100%; border-radius:15px; border:2px solid var(--orange);">
                <div>
                    <h1 style="color:var(--orange)">${p.nom}</h1>
                    <div class="bienfaits-list">
                        <h3>R√¥les & Bienfaits Compl√®tes :</h3>
                        <ul>${p.bienfaits.map(b => `<li>${b}</li>`).join('')}</ul>
                    </div>
                    <div class="maladies-box">
                        <h3 style="color:var(--rouge)">MALADIES TRAIT√âES :</h3>
                        <p style="font-weight:bold; font-size:1.2rem;">${p.maladies}</p>
                    </div>
                    <div class="cart-action">
                        <div class="qty-input">
                            <button class="q-btn" onclick="updateQ(-1)">-</button>
                            <span id="q-val" style="font-size:1.5rem; font-weight:800;">1</span>
                            <button class="q-btn" onclick="updateQ(1)">+</button>
                        </div>
                        <button class="btn-add" onclick="addToCart(${p.id})">AJOUTER AU PANIER</button>
                    </div>
                </div>
            </div>
        `;
    }

    function updateQ(v) { curQty = Math.max(1, curQty + v); document.getElementById('q-val').innerText = curQty; }

    function addToCart(id) {
        const p = bdd_produits.find(x => x.id === id);
        const index = panier.findIndex(i => i.id === id);
        if(index > -1) panier[index].qty += curQty;
        else panier.push({...p, qty: curQty});
        localStorage.setItem('yupi_cart', JSON.stringify(panier));
        majPanierUI();
        alert("Ajout√© !");
    }

    function majPanierUI() {
        const footer = document.getElementById('cart-footer');
        if(panier.length > 0) {
            footer.style.display = 'flex';
            const total = panier.reduce((a, b) => a + (b.prix * b.qty), 0);
            document.getElementById('cart-total').innerText = total.toLocaleString();
        } else footer.style.display = 'none';
    }

    function validerCommande() {
        const total = panier.reduce((a, b) => a + (b.prix * b.qty), 0);
        const order = { date: new Date().toLocaleString(), items: [...panier], total: total };
        
        // Sauvegarde pour l'admin
        commandes_admin.push(order);
        localStorage.setItem('yupi_orders', JSON.stringify(commandes_admin));

        // WhatsApp
        let txt = "Bonjour YUPI PRODUITS, voici ma commande :\n\n";
        panier.forEach(i => txt += `‚Ä¢ ${i.nom} x${i.qty} (${i.prix * i.qty} XOF)\n`);
        txt += `\nTOTAL : ${total.toLocaleString()} XOF`;
        window.open(`https://wa.me/2290143718055?text=${encodeURIComponent(txt)}`);

        // Suppression automatique
        panier = [];
        localStorage.removeItem('yupi_cart');
        majPanierUI();
        switchView('home');
    }

    // FONCTIONS ADMIN
    function checkAdmin() { switchView('admin-login'); }
    function loginAdmin() {
        if(document.getElementById('admin-pass').value === "1234") { // MOT DE PASSE : 1234
            switchView('admin-panel');
            renderOrders();
        } else alert("Erreur !");
    }

    function addProduct() {
        const newP = {
            id: Date.now(),
            nom: document.getElementById('adm-nom').value,
            prix: parseInt(document.getElementById('adm-prix').value),
            img: document.getElementById('adm-img').value,
            bienfaits: document.getElementById('adm-roles').value.split('\n'),
            maladies: document.getElementById('adm-maladies').value
        };
        bdd_produits.push(newP);
        localStorage.setItem('yupi_bdd', JSON.stringify(bdd_produits));
        renderBoutique();
        alert("Produit ajout√© avec succ√®s !");
    }

    function renderOrders() {
        const div = document.getElementById('orders-list');
        div.innerHTML = commandes_admin.reverse().map(o => `
            <div class="order-card">
                <strong>üìÖ Date : ${o.date}</strong><br>
                ${o.items.map(i => ` - ${i.nom} (x${i.qty})`).join('<br>')}
                <div style="color:var(--jaune); margin-top:5px;">TOTAL : ${o.total.toLocaleString()} XOF</div>
            </div>
        `).join('');
    }

    function switchView(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelector('.nav-links').classList.remove('mobile-open');
    }

    renderBoutique();
</script>
</body>
</html>
